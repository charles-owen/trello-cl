!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Trello=t():e.Trello=t()}(window,(function(){return function(e){function t(t){for(var n,i,o=t[0],s=t[1],a=t[2],l=0,d=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(D,i)&&D[i]&&d.push(D[i][0]),D[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(z&&z(t);d.length;)d.shift()();return M.push.apply(M,a||[]),r()}function r(){for(var e,t=0;t<M.length;t++){for(var r=M[t],n=!0,i=1;i<r.length;i++){var o=r[i];0!==D[o]&&(n=!1)}n&&(M.splice(t--,1),e=I(I.s=r[0]))}return e}var n=window.webpackHotUpdate_name_;window.webpackHotUpdate_name_=function(e,t){!function(e,t){if(!A[e]||!_[e])return;for(var r in _[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(h[r]=t[r]);0==--b&&0===y&&T()}(e,t),n&&n(e,t)};var i,o=!0,s="8135075aa6a3e0194fcd",a={},l=[],d=[];function c(t){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,u){case"idle":(h={})[t]=e[t],f("ready");break;case"ready":j(t);break;case"prepare":case"check":case"dispose":case"apply":(g=g||[]).push(t)}},check:C,apply:x,status:function(e){if(!e)return u;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var t=p.indexOf(e);t>=0&&p.splice(t,1)},data:a[t]};return i=void 0,r}var p=[],u="idle";function f(e){u=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var m,h,v,g,b=0,y=0,w={},_={},A={};function k(e){return+e+""===e?+e:e}function C(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return o=e,f("check"),(t=1e4,t=t||1e4,new Promise((function(e,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,i=I.p+""+s+".hot-update.json";n.open("GET",i,!0),n.timeout=t,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void r(e)}e(t)}}}))).then((function(e){if(!e)return f(O()?"ready":"idle"),null;_={},w={},A=e.c,v=e.h,f("prepare");var t=new Promise((function(e,t){m={resolve:e,reject:t}}));for(var r in h={},D)E(r);return"prepare"===u&&0===y&&0===b&&T(),t}));var t}function E(e){A[e]?(_[e]=!0,b++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=I.p+""+e+"."+s+".hot-update.js",document.head.appendChild(t)}(e)):w[e]=!0}function T(){f("ready");var e=m;if(m=null,e)if(o)Promise.resolve().then((function(){return x(o)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&t.push(k(r));e.resolve(t)}}function x(t){if("ready"!==u)throw new Error("apply() is only allowed in ready status");return function t(r){var n,o,d,c,p;function u(e){for(var t=[e],r={},n=t.map((function(e){return{chain:[e],id:e}}));n.length>0;){var i=n.pop(),o=i.id,s=i.chain;if((c=S[o])&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(c.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var a=0;a<c.parents.length;a++){var l=c.parents[a],d=S[l];if(d){if(d.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([l]),moduleId:o,parentId:l};-1===t.indexOf(l)&&(d.hot._acceptedDependencies[o]?(r[l]||(r[l]=[]),m(r[l],[o])):(delete r[l],t.push(l),n.push({chain:s.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}O();var b={},y=[],w={},_=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var C in h)if(Object.prototype.hasOwnProperty.call(h,C)){var E;p=k(C),E=h[C]?u(p):{type:"disposed",moduleId:C};var T=!1,x=!1,j=!1,M="";switch(E.chain&&(M="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":r.onDeclined&&r.onDeclined(E),r.ignoreDeclined||(T=new Error("Aborted because of self decline: "+E.moduleId+M));break;case"declined":r.onDeclined&&r.onDeclined(E),r.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+M));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(E),r.ignoreUnaccepted||(T=new Error("Aborted because "+p+" is not accepted"+M));break;case"accepted":r.onAccepted&&r.onAccepted(E),x=!0;break;case"disposed":r.onDisposed&&r.onDisposed(E),j=!0;break;default:throw new Error("Unexception type "+E.type)}if(T)return f("abort"),Promise.reject(T);if(x)for(p in w[p]=h[p],m(y,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,p)&&(b[p]||(b[p]=[]),m(b[p],E.outdatedDependencies[p]));j&&(m(y,[E.moduleId]),w[p]=_)}var P,L=[];for(o=0;o<y.length;o++)p=y[o],S[p]&&S[p].hot._selfAccepted&&w[p]!==_&&!S[p].hot._selfInvalidated&&L.push({module:p,parents:S[p].parents.slice(),errorHandler:S[p].hot._selfAccepted});f("dispose"),Object.keys(A).forEach((function(e){!1===A[e]&&function(e){delete D[e]}(e)}));var H,z,B=y.slice();for(;B.length>0;)if(p=B.pop(),c=S[p]){var R={},N=c.hot._disposeHandlers;for(d=0;d<N.length;d++)(n=N[d])(R);for(a[p]=R,c.hot.active=!1,delete S[p],delete b[p],d=0;d<c.children.length;d++){var F=S[c.children[d]];F&&((P=F.parents.indexOf(p))>=0&&F.parents.splice(P,1))}}for(p in b)if(Object.prototype.hasOwnProperty.call(b,p)&&(c=S[p]))for(z=b[p],d=0;d<z.length;d++)H=z[d],(P=c.children.indexOf(H))>=0&&c.children.splice(P,1);f("apply"),void 0!==v&&(s=v,v=void 0);for(p in h=void 0,w)Object.prototype.hasOwnProperty.call(w,p)&&(e[p]=w[p]);var U=null;for(p in b)if(Object.prototype.hasOwnProperty.call(b,p)&&(c=S[p])){z=b[p];var G=[];for(o=0;o<z.length;o++)if(H=z[o],n=c.hot._acceptedDependencies[H]){if(-1!==G.indexOf(n))continue;G.push(n)}for(o=0;o<G.length;o++){n=G[o];try{n(z)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:p,dependencyId:z[o],error:e}),r.ignoreErrored||U||(U=e)}}}for(o=0;o<L.length;o++){var Y=L[o];p=Y.module,l=Y.parents,i=p;try{I(p)}catch(e){if("function"==typeof Y.errorHandler)try{Y.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:t,originalError:e}),r.ignoreErrored||U||(U=t),U||(U=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:p,error:e}),r.ignoreErrored||U||(U=e)}}if(U)return f("fail"),Promise.reject(U);if(g)return t(r).then((function(e){return y.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return f("idle"),new Promise((function(e){e(y)}))}(t=t||{})}function O(){if(g)return h||(h={}),g.forEach(j),g=void 0,!0}function j(t){Object.prototype.hasOwnProperty.call(h,t)||(h[t]=e[t])}var S={},D={19:0},M=[];function I(t){if(S[t])return S[t].exports;var r=S[t]={i:t,l:!1,exports:{},hot:c(t),parents:(d=l,l=[],d),children:[]};return e[t].call(r.exports,r,r.exports,function(e){var t=S[e];if(!t)return I;var r=function(r){return t.hot.active?(S[r]?-1===S[r].parents.indexOf(e)&&S[r].parents.push(e):(l=[e],i=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),l=[]),I(r)},n=function(e){return{configurable:!0,enumerable:!0,get:function(){return I[e]},set:function(t){I[e]=t}}};for(var o in I)Object.prototype.hasOwnProperty.call(I,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,n(o));return r.e=function(e){return"ready"===u&&f("prepare"),y++,I.e(e).then(t,(function(e){throw t(),e}));function t(){y--,"prepare"===u&&(w[e]||E(e),0===y&&0===b&&T())}},r.t=function(e,t){return 1&t&&(e=r(e)),I.t(e,-2&t)},r}(t)),r.l=!0,r.exports}I.m=e,I.c=S,I.d=function(e,t,r){I.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},I.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},I.t=function(e,t){if(1&t&&(e=I(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(I.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)I.d(r,n,function(t){return e[t]}.bind(null,n));return r},I.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return I.d(t,"a",t),t},I.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},I.p="/cl/dist/",I.h=function(){return s};var P=window.webpackJsonp_name_=window.webpackJsonp_name_||[],L=P.push.bind(P);P.push=t,P=P.slice();for(var H=0;H<P.length;H++)t(P[H]);var z=L;return M.push(["./vendor/cl/trello/index.js",0]),r()}({"./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./packages/trello-sprinter/trello.scss":function(e,t,r){var n=r("./node_modules/css-loader/dist/runtime/api.js"),i=r("./node_modules/css-loader/dist/runtime/getUrl.js"),o=r("./packages/trello-sprinter/img/plus.png"),s=r("./packages/trello-sprinter/img/minus.png");t=n(!1);var a=i(o),l=i(s);t.push([e.i,"div.trello-sprinter{margin:0}div.trello-sprinter h2{text-align:center;padding:0.25em 0;background:#026AA7;color:white;font-size:1em;margin:0}div.trello-sprinter p.trello-status{text-align:center;padding:0.25em 0;background:#026AA7;color:white}div.trello-sprinter p.trello-msg{text-align:center;font-style:italic;font-size:0.9em;padding:0.25em 0;background:#026AA7;color:white}div.trello-sprinter p.center{text-align:center}div.trello-sprinter div.trello-view{background:white;color:black}div.trello-sprinter div.trello-view h3{border-top:2px solid black;margin:0;padding:0.25em 0 0.25em 20px}div.trello-sprinter div.trello-view h3 span.date{font-weight:normal;font-style:normal;font-size:0.7em;float:right;padding-top:0.25em}div.trello-sprinter div.trello-view p.trello-completed-header{text-align:center;font-weight:bold;background:black;color:deepskyblue}div.trello-sprinter .trello-plus{background-image:url("+a+")}div.trello-sprinter .trello-minus{background-image:url("+l+")}div.trello-sprinter .trello-plus,div.trello-sprinter .trello-minus{background-repeat:no-repeat;background-position:left center;background-size:16px 16px;cursor:pointer}div.trello-sprinter div.trello-expand{position:relative;display:none;overflow:auto;background:#f0f0f0;padding:0.25em;margin-bottom:6pt;border:1pt solid gray;word-wrap:normal}div.trello-sprinter div.trello-expand,div.trello-sprinter .trello-errors{-moz-box-shadow:6pt 6px 10pt #888;-webkit-box-shadow:6pt 6px 10pt #888;box-shadow:6pt 6px 10pt #888}div.trello-sprinter p.trello-count{margin:0 0 1em 0;text-align:center;font-size:0.85em}div.trello-sprinter div.trello-card{padding-left:2em;padding-right:2em}div.trello-sprinter div.trello-card h4{background-color:#81d0fd;margin:0.5em 0 0 0;padding:0 0.25em}div.trello-sprinter div.trello-card h4 span.trello-date{font-weight:normal;font-size:0.9em;float:right;padding-top:0.25em}div.trello-sprinter div.trello-card .trello-card-members{margin:0 0.25em;font-size:0.85em;font-style:italic}div.trello-sprinter div.trello-description{margin:0.5em 1em}div.trello-sprinter div.trello-description p{margin:0 0 0.25em 0;font-size:0.9em}div.trello-sprinter div.trello-comments{margin:0 2em}div.trello-sprinter div.trello-comments h5{margin:0;padding:0 0.25em;background-color:#ccc;font-size:0.8em;font-weight:normal;font-style:italic}div.trello-sprinter div.trello-comments h5 span.trello-date{font-weight:normal;font-style:normal;float:right}div.trello-sprinter div.trello-comments p{margin:0 0.25em;font-size:0.9em}div.trello-sprinter div.trello-updates{margin:1em 2em}div.trello-sprinter div.trello-updates p{margin:0;padding:0 0.25em;font-size:0.8em;font-style:italic}div.trello-sprinter div.trello-updates p span.trello-date{font-weight:normal;font-style:normal;float:right}div.trello-sprinter div.trello-updates p span.list{font-style:normal;font-weight:bold}div.trello-sprinter div.trello-sprints{background:white;color:black}div.trello-sprinter div.trello-sprints div.trello-errors{background:#c41425;color:white}div.trello-sprinter div.trello-sprints div.trello-warnings{background:#ff80df;color:black}div.trello-sprinter div.trello-sprints div.trello-members{background:#f0f0f0;color:black}div.trello-sprinter div.trello-sprints div.trello-members div.trello-member{margin-bottom:1em}div.trello-sprinter div.trello-sprints div.trello-errors,div.trello-sprinter div.trello-sprints div.trello-warnings,div.trello-sprinter div.trello-sprints div.trello-members{position:relative;overflow:auto;padding:0 1em 1em 1em;margin:1em 3em 6pt 3em;border:1pt solid gray;word-wrap:normal;font-size:0.9em}div.trello-sprinter div.trello-sprints div.trello-errors p,div.trello-sprinter div.trello-sprints div.trello-warnings p,div.trello-sprinter div.trello-sprints div.trello-members p{font-size:1.1em;margin:0}div.trello-sprinter div.trello-sprints div.trello-errors span.trello-code,div.trello-sprinter div.trello-sprints div.trello-warnings span.trello-code,div.trello-sprinter div.trello-sprints div.trello-members span.trello-code{font-weight:bold}div.trello-sprinter div.trello-sprints div.trello-errors h3,div.trello-sprinter div.trello-sprints div.trello-errors h4,div.trello-sprinter div.trello-sprints div.trello-warnings h3,div.trello-sprinter div.trello-sprints div.trello-warnings h4,div.trello-sprinter div.trello-sprints div.trello-members h3,div.trello-sprinter div.trello-sprints div.trello-members h4{margin:0;padding:0.25em 0;text-align:center}div.trello-sprinter div.trello-sprints div.trello-errors div.trello-info,div.trello-sprinter div.trello-sprints div.trello-warnings div.trello-info,div.trello-sprinter div.trello-sprints div.trello-members div.trello-info{border-top:1px solid black}div.trello-sprinter div.trello-sprints div.trello-errors div.trello-info p,div.trello-sprinter div.trello-sprints div.trello-warnings div.trello-info p,div.trello-sprinter div.trello-sprints div.trello-members div.trello-info p{margin:1em 0}div.trello-sprinter div.trello-sprint-table{overflow:auto}\n",""]),e.exports=t},"./packages/trello-sprinter/img/minus.png":function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZ1JREFUeNqkkr1OAkEQx+fuhkPgkK8ghYZYGPzo7GjFxMJeQ7TQzljhGxhs9A2MhY0V2muMifoAJpaQGB+Aw0NPjuOA+3J34eg8ME7yT2Y3+/vv7OxwruvCfwL3T+rA83wMEctkXSTKjGFkooplWceO43yj49hAVF7NBUrFjWlIxwVf+kO1M5WHVumlatLlEa/rOhAVt9cjkJBcIM6+ome2CmHGUBY1TaNOmVSMZwcmiVRMAMKxp2K73WKb5D0TG9DGexzqeocltm0zeWGaJi0TOh2D5bY9MBcEBEmSwOOw2+2OKqDK7zz53n5zloNerwceh5bljsoyjB5kswX/f8cG+XYBPA45DlliGH1SVh+uT8O+BooyRQw48DgyPyGW9PsOBAIitFodXwNRDA7BAYeiGB02R6TLiUfY4zAYZImsqHwmnRAnguWmCYST2cW68gqzS7tzXxrkF+dDEI0ga9JvUlSAq9s21Jv8Ze1x754jJslIPLewsnZxKCWXNwG4mTFj1Gh/1u6qzwfnuvr2Tg1oN6J/asAg6GRpPwIMAFcAzawVzQR4AAAAAElFTkSuQmCC"},"./packages/trello-sprinter/img/plus.png":function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAdtJREFUeNqkUzsvBFEUPjNzZhY7az3CFh4RkfWqNKJFolDoyIaCTlR0SqGhEp0oNKqlEgkRCX6ARIdEZLWWwdrZsY95ufeuO3Zssgon+XLP6ztz7jl3BNd14T+Cc2tPIIpiGBFXiR0jiPzBSRLELctacRznAx3HBoLVgai8GBurhaY6qSL7JWVH4mfpxatbk5pLomEYQBCbGg1CveoCqVwRNGdypIZxKBd1XaeVIo1hkSWUysTSDTuPtvp9/sawBITHroqZTJo5yX3KCvDYbz8dPI+hYXwyxbZtBi6maQKPJRKPJFYsIkkIqqp6Mczlcl4HFEPTF2WDm1y+9/SDjSjk83ngPLQs12srm81De/uIl5xInLOzs3P0Z+/4TNYuAeehICBTstkCaasA++s1XvJgrBjbX/9ZraZVkQICcB55P9VMKRQckGUF0unPkq8VY6U+RQn4Yqgooe/hKNT03b2tbZCdsiyUzYXzMBBgSlJLiZGmesWXdLgpf6/T9L/lVxMIL8k+bGjX0NIz0/quw1B3RzWEgsiGVBwUMHCbQksB7B1n4OlV3L07nz2lvTUE66JdfcM7C2pD7ziA0Fz5X3KfM293J7eX89tG6v6BFqDTCJUN4G+hL0v/EmAAoNXlG97vnHoAAAAASUVORK5CYII="},"./packages/trello-sprinter/trello.scss":function(e,t,r){var n=r("./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./packages/trello-sprinter/trello.scss");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=(0,r("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("6a53ace6",n,!1,{});n.locals||e.hot.accept("./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./packages/trello-sprinter/trello.scss",(function(){var t=r("./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./packages/trello-sprinter/trello.scss");"string"==typeof t&&(t=[[e.i,t,""]]),i(t)})),e.hot.dispose((function(){i()}))},"./vendor/cl/trello/index.js":function(e,t,r){"use strict";r.r(t);r("./packages/trello-sprinter/trello.scss");var n={sel:"#trello",version:1,apiEndpoint:"https://api.trello.com",authEndpoint:"https://trello.com",intentEndpoint:"https://trello.com",key:"",localPrefix:"",board:"",after:null,views:{board:{},sprint:{}},name:"TrelloSprinter",cards:["Design","Risks","Meetings","To Do","This Sprint Active","This Sprint Completed","Completed"]};function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(){};s.merge=function(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r},s.strip_tags=function(e){return e.replace(/<(?:.|\n)*?>/gm,"")},s.createElement=function(e,t){var r=document.createElement(e);return void 0!==t&&s.addClass(r,t),r},s.addClass=function(e,t){var r,n=i(t.split(" "));try{for(n.s();!(r=n.n()).done;){var o=r.value;e.classList?e.classList.add(o):e.className+=" "+o}}catch(e){n.e(e)}finally{n.f()}},s.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},s.ready=function(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?e():document.addEventListener("DOMContentLoaded",e)},s.formatDatetime=function(e,t){function r(e,t){for(var r=""+e;r.length<t;)r="0"+r;return r}void 0===t&&(t="n-d-Y h:ia");var n=e.getHours(),i=n,o="a";0==n?i=12:12==n?o="p":n>12&&(i=n-12,o="p");for(var s="",a=0;a<t.length;a++)switch(t.charAt(a)){case"n":s+=e.getMonth()+1;break;case"m":s+=r(e.getMonth()+1,2);break;case"d":s+=r(e.getDate(),2);break;case"Y":s+=e.getFullYear();break;case"g":s+=i;break;case"h":s+=r(i,2);break;case"i":s+=r(e.getMinutes(),2);break;case"s":s+=r(e.getSeconds(),2);break;case"a":s+=o;break;default:s+=t.charAt(a)}return s};var a=function(e,t,r){e.innerHTML="";var n=document.createElement("div");e.appendChild(n),s.addClass(n,"trello-sprinter");var i=document.createElement("p");n.appendChild(i),s.addClass(i,"center");var o=document.createElement("button");i.appendChild(o),o.innerText="Connect to Trello",o.addEventListener("click",(function(e){e.preventDefault(),t.authorize()}))},l=function(e,t){this.board=e,this.id=t.id,this.name=t.fullName,this.data=t},d=function(e,t,r){var n=this;this.board=e,this.list=t,this.id=r.id,this.name=s.strip_tags(r.name),this.data=r,this.desc="<p>"+s.strip_tags(r.desc).replace(/\n/gm,"<p>")+"</p>",this.created=new Date(1e3*parseInt(r.id.substr(0,8),16)),this.members=[],r.idMembers.forEach((function(e){n.members.push(e)})),this.comments=[],this.updates=[]};d.prototype.sort_updates=function(){this.updates.sort((function(e,t){return e.date<t.date?-1:e.date==t.date?0:1}))},d.prototype.final_time=function(){return this.updates.length>0?this.updates[this.updates.length-1].date:this.created},d.count_members=function(e,t){var r={};return t.forEach((function(t){t.members.forEach((function(t){var n=e.members[t];r.hasOwnProperty(n.id)?r[n.id].cnt++:r[n.id]={cnt:1,member:n}}))})),r};var c=function(e,t){this.board=e,this.id=t.id,this.name=t.name,this.data=t,this.cards=[],this.cards_by_id={}};c.prototype.add_card=function(e){this.cards.push(e),this.cards_by_id[e.id]=e},c.prototype.find_card=function(e){return this.cards_by_id.hasOwnProperty(e)?this.cards_by_id[e]:null},c.prototype.count_members=function(){return d.count_members(this.board,this.cards)};var p=function(e,t,r){this.board=e,this.card=t,this.data=r,this.member=r.idMemberCreator,this.listBefore=r.data.listBefore.name,this.listAfter=r.data.listAfter.name,this.date=new Date(Date.parse(r.date))},u=function(e,t,r){this.board=e,this.card=t,this.member=r.idMemberCreator,this.text="<p>"+s.strip_tags(r.data.text).replace(/\n/gm,"<p>")+"</p>",this.data=r,this.date=new Date(Date.parse(r.date))},f=function(e,t){this.data=e,this.id=e.id,this.name=e.name,this.lists=[],this.members={},this.options=t,this.find_card=function(e){for(var t=0;t<this.lists.length;t++){var r=this.lists[t].find_card(e);if(null!==r)return r}return null},this.add_member=function(e){this.members[e.id]=e}};f.fetch=function(e,t,r,n,i,o){n.innerText="Fetching board "+t;var s=0,a=null;function m(t){v(),e.get("/board/"+t.id+"/members?fields=all",(function(e){e.forEach((function(e){var r=new l(t,e);t.add_member(r)})),g()}),(function(e){o("Unable to fetch Trello membership")}),n)}function h(i){n.innerText="Fetching lists for "+t,v(),e.get("/boards/"+i.id+"/lists?filter=open",(function(t){t.forEach((function(e){if(!e.closed){var t=new c(i,e);i.lists.push(t)}})),function(t){n.innerText="Fetching cards";for(var i="",s=0;s<t.lists.length;s++){var a=t.lists[s];i.length>0&&(i+=","),i+="/lists/"+a.id+"/cards/open"}v(),e.get("/batch?urls="+i,(function(i){for(var s=function(e){var n=t.lists[e];i[e][200].forEach((function(e){if(!e.closed){var i=new d(t,n,e);null!==r.after?i.created.getTime()/1e3>r.after&&n.add_card(i):n.add_card(i)}}))},a=0;a<i.length&&a<t.lists.length;a++)s(a);!function(t){v(),e.get("/board/"+t.id+"/actions?filter=commentCard,updateCard:idList&limit=1000",(function(e){e.forEach((function(e){if(!e.closed)if("commentCard"===e.type){var r=t.find_card(e.data.card.id);if(null!==r){var n=new u(t,r,e);r.comments.push(n)}}else if("updateCard"===e.type){var i=t.find_card(e.data.card.id);if(null!==i){var o=new p(t,i,e);i.updates.push(o)}}})),t.lists.forEach((function(e){e.cards.forEach((function(e){e.sort_updates()}))})),g()}),(function(e){o("Unable to fetch Trello card information")}),n)}(t),g()}),(function(e){o("Unable to fetch Trello cards")}),n)}(i),g()}),(function(e){o("Unable to fetch Trello lists")}),n)}function v(){s++}function g(){0===--s&&i(a)}v(),e.get("/member/me/boards?fields=all",(function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name.toLowerCase()===t.toLowerCase()&&!i.closed){m(a=new f(i,r)),h(a);break}}null!==a?g():o("Unable to find Trello board "+t)}),(function(e){o("Unable to fetch Trello boards")}),n)},f.prototype.find_list=function(e){e=e.toLowerCase();for(var t=0;t<this.lists.length;t++){var r=this.lists[t];if(r.name.toLowerCase()===e)return r}return null};var m=function(){};function h(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}m.prototype.present=function(e,t){};var g=function(e,t){m.call(this),this.present=function(){var n=s.createElement("div","trello-view");e.appendChild(n);var i,o=h(t.lists);try{for(o.s();!(i=o.n()).done;){var a=i.value;r(n,a)}}catch(e){o.e(e)}finally{o.f()}};var r=function(e,t){var r=s.createElement("h3","trello-plus");r.innerText=t.name,e.appendChild(r);var i=s.createElement("div","trello-expand");i.style.display="none",e.appendChild(i),r.addEventListener("click",(function(e){"none"===i.style.display?(i.style.display="block",s.removeClass(r,"trello-plus"),s.addClass(r,"trello-minus")):(i.style.display="none",s.removeClass(r,"trello-minus"),s.addClass(r,"trello-plus"))}));var o=t.count_members(),a="<em>Cards:</em>["+t.cards.length+"] ";for(var l in o)o.hasOwnProperty(l)&&(a+=o[l].member.name+":["+o[l].cnt+"]&nbsp;&nbsp;");var d=s.createElement("p","trello-count");i.appendChild(d),d.innerHTML=a;var c,p=h(t.cards);try{for(p.s();!(c=p.n()).done;){var u=c.value;n(i,u)}}catch(e){p.e(e)}finally{p.f()}},n=function(e,t){var r=s.formatDatetime(t.created),n=s.createElement("div","trello-card");e.appendChild(n),n.innerHTML='<h4><span class="trello-date">'.concat(r,"</span>").concat(t.name,"</h4>");var a,l="",d=h(t.members);try{for(d.s();!(a=d.n()).done;){var c=a.value,p=t.board.members[c];l.length>0&&(l+=" / "),l+="<span>"+p.name+"</span>"}}catch(e){d.e(e)}finally{d.f()}var u=s.createElement("p","trello-card-members");n.appendChild(u),u.innerHTML=l;var f=s.createElement("div","trello-description");n.appendChild(f),f.innerHTML=t.desc,i(n,t),o(n,t)};this.presentCard=n;var i=function(e,t){if(0!==t.comments.length){var r=s.createElement("div","trello-comments");e.appendChild(r);var n,i=h(t.comments);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.board.members[o.member],l=void 0!==a?a.name:"undefined",d=s.formatDatetime(o.date),c=s.createElement("h5");r.appendChild(c),c.innerHTML='<span class="trello-date">'.concat(d,"</span>").concat(l);var p=s.createElement("div");r.appendChild(p),p.innerHTML=o.text}}catch(e){i.e(e)}finally{i.f()}}},o=function(e,t){if(0!==t.updates.length){var r=s.createElement("div","trello-updates");e.appendChild(r);var n,i=h(t.updates);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.board.members[o.member],l=void 0!==a?a.name:"undefined",d=s.formatDatetime(o.date),c=document.createElement("p");r.appendChild(c),c.innerHTML='<span class="date">'+d+"</span> "+l+' moved from <span class="list">'+o.listBefore+'</span> to <span class="list">'+o.listAfter+"</span>"}}catch(e){i.e(e)}finally{i.f()}}}};(g.prototype=Object.create(m.prototype)).constructor=g;var b=function(e,t,r){this.sprints=e,this.start_meeting=t,this.end_meeting=r,this.completed=[]};b.prototype.end_time=function(){return new Date(this.end_meeting.created.getTime()+1e3*this.sprints.sprint_time_slop)};var y=function(e,t){this.member=t,this.sprints=e,this.meetings_count=0,this.meetings_attended=0,this.completed_count=0,this.completed_total=0,this.reviews_count=0,this.reviews_total=0};function w(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}y.prototype.meetings_percentage=function(){if(this.meetings_count<=this.sprints.meetings_slop)return"(insufficient meetings)";var e=this.meetings_attended/(this.meetings_count-this.sprints.meetings_slop);return e>1&&(e=1),e.toFixed(2)},y.prototype.completed_factor=function(e){if(0===this.completed_total)return 0;var t=this.completed_count/(this.completed_total/e*this.sprints.completed_factor);return t>1&&(t=1),t.toFixed(2)},y.prototype.reviewing_factor=function(e){if(0===this.reviews_total)return 0;var t=this.reviews_count/(this.reviews_total/e*this.sprints.reviewing_factor);return t>1&&(t=1),t.toFixed(2)};var A=function(e){for(var t in this.meetings_slop=1,this.sprint_time_slop=18e3,this.completed_factor=.8,this.reviewing_factor=.8*.9,this.board=e,this.errors=[],this.warnings=[],this.members={},this.sprints=[],this.design=null,this.risks=null,this.meetings=null,this.todo=null,this.sprint_active=null,this.sprint_completed=null,this.completed=null,e.members){var r=e.members[t];"cse335"!==r.name.toLowerCase()&&(this.members[t]=new y(this,r))}this.find_lists(),this.errors.length>0?this.error("e900"):(this.order_test(),this.meeting_attendance(),this.create_sprints(),this.sort_completed(),this.completed_statistics())};function k(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}A.prototype.find_lists=function(){this.design=this.board.find_list("Design"),null===this.design&&this.error("e001"),this.risks=this.board.find_list("Risks"),null===this.risks&&this.error("e002"),this.meetings=this.board.find_list("Meetings"),null===this.meetings&&this.error("e003"),this.todo=this.board.find_list("To Do"),null===this.todo&&this.error("e004"),this.sprint_active=this.board.find_list("This Sprint Active"),null===this.sprint_active&&this.error("e005"),this.sprint_completed=this.board.find_list("This Sprint Completed"),null===this.sprint_completed&&this.error("e006"),this.completed=this.board.find_list("Completed"),null===this.completed&&this.error("e007")},A.prototype.order_test=function(){for(var e=this.board.options.cards,t=0;t<e.length;t++)if(this.board.lists[t].name.toLowerCase()!==e[t].toLowerCase())return void this.warning("w001")},A.prototype.meeting_attendance=function(){var e=this,t=this.meetings.cards.length;for(var r in this.members){var n=this.members[r];n.meetings_count=t,n.meetings_attended=0}this.meetings.cards.forEach((function(t){t.members.forEach((function(t){var r=e.find_member(t);null!==r&&r.meetings_attended++}))}))},A.prototype.create_sprints=function(){var e=this.meetings.cards.slice();e.sort((function(e,t){return e.created<t.created?-1:e.created===t.created?0:1}));for(var t=0;t<e.length-1;t++)this.sprints.push(new b(this,e[t],e[t+1]))},A.prototype.sort_completed=function(){var e=this,t=this.completed.cards.slice();t.sort((function(e,t){var r=e.final_time(),n=t.final_time();return r===n?0:r<n?-1:1})),t.forEach((function(t){if(-1===t.name.toLowerCase().indexOf("risk")){for(var r=t.final_time(),n=0;n<e.sprints.length;n++){if(r<=e.sprints[n].end_time())break}n>=e.sprints.length&&(n=e.sprints.length-1),e.sprints[n].completed.push(t)}}))},A.prototype.completed_statistics=function(){for(var e=0,t=0,r=0;r<this.sprints.length;r++){var n=this.sprints[r];e+=n.completed.length;for(var i=0;i<n.completed.length;i++){var o=n.completed[i];if(1===o.members.length){var s=o.members[0];null!==(a=this.find_member(s))&&a.completed_count++}else 0===o.members.length?this.warning("w002","Completed task <em>"+o.name+"</em> has no team members assigned. Nobody will get credit for that task."):this.warning("w003","Completed task <em>"+o.name+"</em> has more than one team member assigned. Nobody will get credit for that task.");if(o.comments.length>0){t++;var a;s=o.comments[0].member;null!==(a=this.find_member(s))&&a.reviews_count++}}}for(var s in this.members)this.members[s].completed_total=e,this.members[s].reviews_total=t},A.prototype.find_member=function(e){return this.members.hasOwnProperty(e)?this.members[e]:null},A.prototype.num_members=function(){var e=0;for(var t in this.members)this.members.hasOwnProperty(t)&&e++;return e},A.prototype.error=function(e){for(var t=0;t<this.errors.length;t++){if(this.errors[t].code===e)return}switch(e){case"e001":this.errors.push({code:e,msg:"There is no list named 'Design'"});break;case"e002":this.errors.push({code:e,msg:"There is no list named 'Risks'"});break;case"e003":this.errors.push({code:e,msg:"There is no list named 'Meetings'"});break;case"e004":this.errors.push({code:e,msg:"There is no list named 'To Do'"});break;case"e005":this.errors.push({code:e,msg:"There is no list named 'This Sprint Active'"});break;case"e006":this.errors.push({code:e,msg:"There is no list named 'This Sprint Completed'"});break;case"e007":this.errors.push({code:e,msg:"There is no list named 'Completed'"});break;case"e900":this.errors.push({code:e,msg:"Fatal errors, unable to proceed with sprints analysis"})}},A.prototype.warning=function(e,t){if(void 0===t)switch(e){case"w001":t="Your lists are not in the correct order. The exact order should be:";var r,n=!0,i=w(this.board.options.cards);try{for(i.s();!(r=i.n()).done;){var o=r.value;n?n=!1:t+=",",t+=" "+o}}catch(e){i.e(e)}finally{i.f()}this.warnings.push({code:e,msg:t})}else this.warnings.push({code:e,msg:t})};var E=function(e,t){m.call(this);var r=new g(e,t);this.present=function(){var r=new A(t),a=s.createElement("div","trello-sprints");e.appendChild(a);var d=s.createElement("h2");d.innerText="Sprints Analysis",a.appendChild(d),n(a,r),i(a,r),r.errors.length>0||(o(a,r),l(a,r))};var n=function(e,t){if(0!==t.errors.length){var r=s.createElement("div","trello-errors");e.appendChild(r),r.innerHTML="<h3>Errors</h3>";var n,i=k(t.errors);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=s.createElement("p");r.appendChild(a),a.innerHTML='<span class="trello-code">'+o.code+":</span> "+o.msg}}catch(e){i.e(e)}finally{i.f()}}},i=function(e,t){if(0!==t.warnings.length){var r=s.createElement("div","trello-warnings");e.appendChild(r),r.innerHTML="<h3>Warnings</h3>";var n,i=k(t.warnings);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=s.createElement("p");r.appendChild(a),a.innerHTML='<span class="trello-code">'+o.code+":</span> "+o.msg}}catch(e){i.e(e)}finally{i.f()}}},o=function(e,t){var r=s.createElement("div","trello-view");e.appendChild(r);for(var n=1;n<=t.sprints.length;n++){var i=t.sprints[n-1];a(r,t,n,i)}},a=function(e,t,n,i){var o,a=s.formatDatetime(i.start_meeting.created),l=s.formatDatetime(i.end_meeting.created),c=i.completed.length,p=d.count_members(t.board,i.completed),u=0,f=k(t.sprints);try{for(f.s();!(o=f.n()).done;){u+=o.value.completed.length}}catch(e){f.e(e)}finally{f.f()}var m=0;u>0&&(m=c/(u/t.sprints.length*.8))>1&&(m=1),m=m.toFixed(2);var h=s.createElement("h3","trello-plus");e.appendChild(h),h.innerHTML='<span class="date">'+c+" tasks "+m+" / "+a+" to "+l+"</span>Sprint: "+n;var v=s.createElement("div","trello-expand");v.style.display="none",e.appendChild(v),h.addEventListener("click",(function(e){"none"===v.style.display?(v.style.display="block",s.removeClass(h,"trello-plus"),s.addClass(h,"trello-minus")):(v.style.display="none",s.removeClass(h,"trello-minus"),s.addClass(h,"trello-plus"))})),r.presentCard(v,i.start_meeting),r.presentCard(v,i.end_meeting);var g=s.createElement("p","trello-completed-header");v.appendChild(g),g.innerText="Sprint Completed Tasks";var b=s.createElement("p","trello-count");v.appendChild(b);var y="<em>Completed:</em>["+i.completed.length+"] ";for(var w in p)p.hasOwnProperty(w)&&(y+=p[w].member.name+":["+p[w].cnt+"]&nbsp;&nbsp;");b.innerHTML=y;for(var _=0;_<i.completed.length;_++){var A=i.completed[_];r.presentCard(v,A)}},l=function(e,t){var r=s.createElement("div","trello-members");for(var n in e.appendChild(r),t.members)if(t.members.hasOwnProperty(n)){var i=t.members[n];c(r,t,i)}p(r,t)},c=function(e,t,r){var n=s.createElement("div","trello-member");e.appendChild(n);var i=1===t.meetings_slop?" meeting":" meetings",o=t.num_members();n.innerHTML="<h4>"+r.member.name+"</h4><p>Meetings attended: "+r.meetings_attended+"/"+r.meetings_count+" percentage: "+r.meetings_percentage()+" <em>You are allowed to miss "+t.meetings_slop+i+"</em></p><p>Tasks completed: "+r.completed_count+"/"+(r.completed_total/o).toFixed(2)+" for a completion factor of: "+r.completed_factor(o)+"</p><p>Reviews completed: "+r.reviews_count+" for a reviewing factor of: "+r.reviewing_factor(o)+"</p>"},p=function(e,t){var r=s.createElement("div","trello-info");e.appendChild(r),r.innerHTML="<p>The completion factor for tasks is based on a metric that every team member is expected to complete "+(100*t.completed_factor).toFixed(0)+"% of an equal distribution of tasks. Values less than 1.00 indicate that you will be losing points on the assignment.</p><p>The reviewing factor for tasks is based on a metric that every team member is expected to review "+(100*t.reviewing_factor).toFixed(0)+"% of an equal distribution of tasks. This factor is based on a metric that 90% of tasks should be programming tasks. Values less than 1.00 indicate that you will be losing points on the assignment.</p>"}};(E.prototype=Object.create(m.prototype)).constructor=E;var T=function(e,t,r){m.call(this);var n=!0;void 0!==r.addHeadings&&(n=r.addHeadings),this.present=function(){var o=s.createElement("div","trello-sprint-table");e.appendChild(o);var a=s.createElement("table");o.appendChild(a),void 0!==r.class&&s.addClass(a,r.class);var l=new A(t),d=l.num_members();n&&i(a,t,l);var c="";function p(e){c+="<td>"+e+"</td>"}for(var u in l.members)if(l.members.hasOwnProperty(u)){var f=l.members[u];u=f.member.id;if(c="",p(t.name),p(d),p(f.member.name),p(f.meetings_attended),p(f.meetings_count),p(f.meetings_percentage()),p(f.completed_count),p(f.completed_total),p(f.completed_factor(d)),p(f.reviews_count),p(f.reviews_total),p(f.reviewing_factor(d)),p(l.sprints.length),l.sprints.forEach((function(e){var t=0;e.completed.forEach((function(e){1==e.members.length&&e.members[0]==u&&t++})),p(t),p(e.completed.length)})),!isNaN(n))for(var m=l.sprints.length;m<n;m++)p("&nbsp;"),p("&nbsp;");var h=s.createElement("tr");h.innerHTML=c,a.appendChild(h)}};var i=function(e,t,i){var o=s.createElement("tr");e.appendChild(o),void 0!==r.tr1class&&s.addClass(o,r.tr1class);var a="";function l(e){a+="<th><div>"+e+"</div></th>"}if(l("Team"),l("#"),l("Member"),l("Attended"),l("Total"),l("%"),l("Completed"),l("Total"),l("%"),l("Reviews"),l("Total"),l("%"),l("Sprints"),!0===n)for(var d=1;d<=i.sprints.length;d++)l(d),l("#");else for(d=1;d<=n;d++)l(d),l("#");o.innerHTML=a}};(T.prototype=Object.create(m.prototype)).constructor=T,T.prototype.table_headings=function(e,t){};var x=function(e,t,r){e.innerHTML="";var n=document.createElement("div");e.appendChild(n),s.addClass(n,"trello-sprinter");var i=document.createElement("p");n.appendChild(i),s.addClass(i,"center");var o=document.createElement("button");i.appendChild(o),o.innerText="Disconnect",o.addEventListener("click",(function(n){n.preventDefault(),t.disconnect(),new a(e,t,r)}));var l=s.createElement("p","trello-status");l.innerText="Connecting to Trello...",n.appendChild(l);var d=s.createElement("p","trello-msg");n.appendChild(d),f.fetch(t,r.board,r,d,(function(e){for(var t in l.innerText="Trello Board: "+e.name,d.parentNode.removeChild(d),r.views)switch(t){case"board":var i=new g(n,e);i.present();break;case"sprint":(i=new E(n,e,r.views.sprint)).present();break;case"sprintTable":(i=new T(n,e,r.views.sprintTable)).present()}}),(function(e){d.parentNode.removeChild(d),l.innerText=e}))},O={version:1,apiEndpoint:"https://api.trello.com",authEndpoint:"https://trello.com",intentEndpoint:"https://trello.com",key:"",localPrefix:""},j=function e(t){var r=this;t=function(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r}(O,t);var n="";this.authorize=function(){var e=encodeURIComponent(window.location.href),r="".concat(t.authEndpoint,"/").concat(t.version,"/authorize?expiration=never&name=").concat(t.name,"&")+"callback_method=fragment&scope=read&response_type=token&key=".concat(t.key,"&return_url=").concat(e);window.location=r},this.disconnect=function(){window.localStorage.removeItem(t.localPrefix+"_n9s5Ryg8wa"),n=""},this.get=function(e,r,i,o){var s=1,a=10;!function l(){var d=new XMLHttpRequest;d.open("GET","".concat(t.apiEndpoint,"/").concat(t.version,"/").concat(e,"&key=").concat(t.key,"&token=").concat(n),!0),d.onload=function(){if(d.status>=200&&d.status<400){var e=JSON.parse(d.responseText);r(e)}else i()},d.onerror=function(){429==+d.status&&s<5?(s++,void 0!==o&&(o.innerText="Rate limited, attempt "+s+" after "+a.toFixed(0)+" seconds",setTimeout((function(){l()}),1e3*a),a*=1.25)):i()},d.send()}()},function(){r.state=e.DISCONNECTED;var i=window.location.href.match(/#token=(.*)$/);null!==i&&i.length>1&&(n=i[1],window.localStorage.setItem(t.localPrefix+"_n9s5Ryg8wa",n),window.location=window.location.origin+window.location.pathname+window.location.search);var o=window.localStorage;null!==(n=o.getItem(t.localPrefix+"_n9s5Ryg8wa",n))&&n.length>0&&(r.state=e.CONNECTED)}()};j.DISCONNECTED="D",j.CONNECTED="C";var S=function(e){var t=s.merge(n,e),r=new j(t);s.ready((function(){var e;e=t.sel.nodeType?[t.sel]:document.querySelectorAll(t.sel);for(var n=0;n<e.length;n++)switch(r.state){case j.DISCONNECTED:new a(e[n],r,t);break;default:new x(e[n],r,t)}}))},D=function(e,t){var r=JSON.parse(t.innerText);t.innerText="",t.style.display="block";var n={sel:t,key:r.key,board:r.team,views:r.views,after:r.after};void 0!==r.cards&&(n.cards=r.cards),new S(n)},M=function(){};M.create=function(e){e.start((function(){for(var t=document.querySelectorAll("div.cl-trello-sprinter"),r=0;r<t.length;r++)new D(e,t[r])}))},M.create(Site.Site)}})}));